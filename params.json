{"name":"Unity-mappingfactory","tagline":"Extension which allows you to register factories that will create new objects based on data from different existing objects essentially mapping between them.","body":"Adds an Extension method to the [IUnityContainer](http://msdn.microsoft.com/en-us/library/microsoft.practices.unity.iunitycontainer.aspx) which allows you to register factories that will create new objects based on data from existing objects essentially mapping from one type hierarchy to a different type hierarchy.\r\n\r\nThe goal was simplicity and readability. No need to declare individual factory classes or event factory interfaces! Just add the mappings right where you register the classes during the bootstrapping process.\r\n\r\nYou must register anything you will be creating (container.RegisterType) in the container (aka. the generic **TTo** input). \r\n\r\nYou do NOT need to register anthying that you are mapping from (aka. the generic **TFrom** input).\r\n\r\n### Simple 1-class to 1-class mapping:\r\n\r\n```csharp \r\n//make sure to register the output...\r\ncontainer.RegisterType<IPersonViewModel, PersonViewModel>();\r\n\r\n//define the mapping between classes...\r\ncontainer.RegisterFactory<IPerson, IPersonViewModel>()\r\n\t.AddDefaultMap();\r\n```\r\n\r\nThis will map any **IPerson** instances as a parameter that will be used to create any instances of the **IPersonViewModel**.\r\n\r\n### Mapping between 2 different class hierarchies:\r\n\r\n```csharp\r\n//make sure to register the output...\r\ncontainer.RegisterType<IImageWidgetViewModel, ImageWidgetViewModel>();\r\ncontainer.RegisterType<ITextWidgetViewModel, TextWidgetViewModel>();\r\n\r\n//define the mapping between different class hierarchies...\r\ncontainer.RegisterFactory<IWidget, IWidgetViewModel>()\r\n\t.AddMap<IImageWidget, IImageWidgetViewModel>()\r\n\t.AddMap<ITextWidget, ITextWidgetViewModel>();\r\n```\r\nThis will provide the following 2 mappings:\r\n\r\n1. The **IImageWidget** instances will be a parameter that will be used to create any instances of the **IImageWidgetViewModel**.\r\n\r\n2. The **ITextWidget** instances will be a parameter that will be used to create any instances of the **ITextWidgetViewModel**.\r\n\r\n\r\n## Details\r\n\r\nCalling the **RegisterFactory** method actually creates an instance of a **MappingFactory** clas and registers the instance of that class for the lifetime of the container. The class maintains a Dictionary of mappings that were added and utilizes the [IUnityContainer.Resolve()](http://msdn.microsoft.com/en-us/library/ff660794.aspx) method to create the requested object passing in the original object using the [DependencyOverride](http://msdn.microsoft.com/en-us/library/ff660920.aspx) parameter.\r\n","google":"UA-41997399-1","note":"Don't delete this file! It's used internally to help with page regeneration."}